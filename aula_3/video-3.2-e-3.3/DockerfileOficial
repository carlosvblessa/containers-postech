FROM python:3.8-slim
ARG APP_ENV=development
ENV APP_ENV=${APP_ENV}
WORKDIR /app
COPY . /app
RUN pip install --upgrade pip && pip install --no-cache-dir -r /app/requirements.txt
EXPOSE 5000
VOLUME ["/app/data"]
HEALTHCHECK CMD curl --fail http://localhost:5000/health || exit 1
ENTRYPOINT ["python", "app.py"]
CMD [ ]
